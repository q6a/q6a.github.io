function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args);};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args);};};"use strict";window.config=window.config||{};window.config.useLocalApp=false;summaryInclude=60;var fuseOptions={shouldSort:true,includeMatches:true,threshold:0.0,tokenize:true,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"title",weight:0.8},{name:"contents",weight:0.5},{name:"tags",weight:0.3},{name:"categories",weight:0.3}]};$(document).ready(function(){var btnFTStart=$("#freeTrialButton");var btnFTSubmit=$("#signupSubmit");var inputFTEmail=$("#emailSub");var inputFTLegalAccept=$("#legalinfoch");var appDisabled=btnFTStart.hasClass("appDisabled");btnFTSubmit.attr("disabled","disabled");var modalLanguages=$("#confirm-language");var modalLegal=$("#legalModal");var btnFreeTrialHome=$(".btn-free-trial-home");var btnSearch=$(".btn-search");var modalSearch=$("#search-modal-id");var btnSearchPopup=$(".btn-search-popup-cls");var searchQuery="";function isEmail(str){var re=/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;return!!str.match(re);}
function handleFTEmailChange(e){var value=e.target.value;if(!isEmail(value)){inputFTEmail.css("border","1px solid red");btnFTSubmit.attr("disabled","disabled");$(".tooltip-outer").attr("data-original-title","Disabled: Invalid Email Address").tooltip("fixTitle");}else{inputFTEmail.css("border","1px solid green");btnFTSubmit.removeAttr("disabled");$(".tooltip-outer").attr("data-original-title","Enabled: Valid Email Address").tooltip("fixTitle");}
var chk=modalLanguages.find("#legalinfoch");if(!chk[0].checked){btnFTSubmit.attr("disabled","disabled");}}
inputFTEmail.bind("change keyup",handleFTEmailChange);function handleFTStartClick(e){e.preventDefault();function next(){btnFTSubmit.removeAttr("disabled");modalLanguages.modal("show");}
window.gtag?window.gtag("event","button",{event_category:"free-trial",event_label:"hero-next",event_callback:next}):next();}
btnFTStart.click(handleFTStartClick);function handleBtnFreeTrialHome(e){modalLanguages.modal("show");}
function handleBtnSearch(e){modalSearch.modal("show");}
btnFreeTrialHome.click(handleBtnFreeTrialHome);btnSearch.click(handleBtnSearch);btnSearchPopup.click(handleBtnSearchPopup);function getSelectedSecondaryLanguages(){var inputsLanguages=modalLanguages.find("input[type=checkbox]:checked");var results=[];inputsLanguages.each(function(){if(this.name==="legalinfo"){return;}
if(this.value==="English"){return;}
results.push(this.value);});return results;}
function handleFTLangOptionChecked(e){var secondaryLanguages=getSelectedSecondaryLanguages();if(secondaryLanguages.length>=3){modalLanguages.find("input[type=checkbox]").each(function(){if(this.value==="English"){return;}
if(!this.checked){$(this).attr("disabled","disabled");}});}else{modalLanguages.find("input[type=checkbox]").each(function(){if(this.value==="English"){return;}
if(!this.checked){$(this).removeAttr("disabled");}});}}
modalLanguages.find("input").change(handleFTLangOptionChecked);function handleFTLegalAcceptChange(e){if(!isEmail(inputFTEmail[0].value)){btnFTSubmit.attr("disabled","disabled");}else{if(this.checked){btnFTSubmit.removeAttr("disabled");}else{btnFTSubmit.attr("disabled","disabled");}}}
inputFTLegalAccept.change(handleFTLegalAcceptChange);function handleFTSubmitClick(e){modalLegal.modal("hide");var primaryLanguage="English";var secondaryLanguages=getSelectedSecondaryLanguages();var params={primaryLanguage:primaryLanguage,secondaryLanguages:secondaryLanguages.join(","),emailAddress:$("#emailSub").val()};function redirectToApp(){var appRegisterUrl=window.config.useLocalApp?"http://localhost:3000/enrollAccount":"https://app.videotranslator.ai/enrollAccount";var nextUrl=new URL(appRegisterUrl);for(var key in params){nextUrl.searchParams.set(key,params[key]);}
window.location=nextUrl.toString();}
window.gtag?window.gtag("event","conversion",{event_callback:redirectToApp}):redirectToApp();}
btnFTSubmit.click(handleFTSubmitClick);});$("#search-query").keypress(function(event){var keycode=event.keyCode?event.keyCode:event.which;if(keycode=="13"){handleBtnSearchPopup();}});function handleBtnSearchPopup(e){$('#search-results').empty();searchQuery=$('#search-query').val();if(searchQuery){gtag('event','search event',{'event_category':'search category','event_label':'search','value':'search-'+searchQuery});$('#search-query').val(searchQuery);executeSearch(searchQuery);}else{$('#search-results').append('<p>Please enter a word or phrase above !</p>');}}
function executeSearch(searchQuery){$.getJSON("../../index.json",function(data){var pages=data;var fuse=new Fuse(pages,fuseOptions);var result=fuse.search(searchQuery);if(result.length>0){populateResults(result);}else{$("#search-results").append("<p>No matches found !</p>");}});}
function populateResults(result){$.each(result,function(key,value){var contents=value.item.contents;var snippet="";var snippetHighlights=[];var tags=[];if(fuseOptions.tokenize){snippetHighlights.push(searchQuery);}else{$.each(value.matches,function(matchKey,mvalue){if(mvalue.key=="tags"||mvalue.key=="categories"){snippetHighlights.push(mvalue.value);}else if(mvalue.key=="contents"){start=mvalue.indices[0][0]-summaryInclude>0?mvalue.indices[0][0]-summaryInclude:0;end=mvalue.indices[0][1]+summaryInclude<contents.length?mvalue.indices[0][1]+summaryInclude:contents.length;snippet+=contents.substring(start,end);snippetHighlights.push(mvalue.value.substring(mvalue.indices[0][0],mvalue.indices[0][1]-mvalue.indices[0][0]+1));}});}
if(snippet.length<1){snippet+=contents.substring(0,summaryInclude*2);}
var templateDefinition=$("#search-result-template").html();var output=render(templateDefinition,{key:key,title:value.item.title,link:value.item.permalink,tags:value.item.tags,categories:value.item.categories,snippet:snippet});$("#search-results").append(output);$.each(snippetHighlights,function(snipkey,snipvalue){$("#summary-"+key).mark(snipvalue);});});}
function param(name){return decodeURIComponent((location.search.split(name+"=")[1]||"").split("&")[0]).replace(/\+/g," ");}
function render(templateString,data){var conditionalMatches,conditionalPattern,copy;conditionalPattern=/\$\{\s*isset ([a-zA-Z]*) \s*\}(.*)\$\{\s*end\s*}/g;copy=templateString;while((conditionalMatches=conditionalPattern.exec(templateString))!==null){if(data[conditionalMatches[1]]){copy=copy.replace(conditionalMatches[0],conditionalMatches[2]);}else{copy=copy.replace(conditionalMatches[0],"");}}
templateString=copy;var key,find,re;for(key in data){find="\\$\\{\\s*"+key+"\\s*\\}";re=new RegExp(find,"g");templateString=templateString.replace(re,data[key]);}
return templateString;};"use strict";window.config=window.config||{};window.config.useGtagStub=false;function initNavbarPageScroll(){var $navbar=$("nav.navbar");var navbarStuckClass="navbar-stuck";function onScroll(){if($(this).scrollTop()>=40){$navbar.addClass(navbarStuckClass);}else{$navbar.removeClass(navbarStuckClass);}}
$(document).scroll(onScroll);onScroll.apply(document);}
function initNavbarPageResize(){var dropdownAnchorDisable=false;var dropdownAnchorDisablePrev=dropdownAnchorDisable;function onResize(){if($(this).width()<768){dropdownAnchorDisable=true;}else{dropdownAnchorDisable=false;}
if(dropdownAnchorDisable!==dropdownAnchorDisablePrev){dropdownAnchorDisablePrev=dropdownAnchorDisable;if(dropdownAnchorDisable){$("a.dropdown-toggle").attr("data-toggle","dropdown");}else{$("a.dropdown-toggle").attr("data-toggle","none");}}}
$(window).resize(onResize);onResize.apply(window);}
function initNavbarDropdownHover(){function onHover(){var dropdownMenu=$(this).addClass("open");}
function onLeave(){$(this).removeClass("open");}
function onItemClick(){$(this).parent(".dropdown").removeClass("open");}
$(".dropdown").on("mouseenter",onHover);$(".dropdown").on("mouseleave",onLeave);$(".dropdown-menu,.dropdown-menu a").click(onItemClick);}
function initGATriggers(){var gtag=window.gtag;if(!gtag){if(window.config.useGtagStub){gtag=function(type,action,params){console.log("gtag",action,params.event_category,params.event_label);};}else{return;}}
$("a[data-event]").click(function(){var _this=$(this);var params=_this.attr("data-event").split(",");if(!(params&&params.length===2)){console.error("Invalid 'data-event' tag.",this);return false;}
var eventCategory=params[0];var eventLabel=params[1];gtag("event","link",{event_category:eventCategory,event_label:eventLabel,event_callback:function(){window.location=_this.attr("href");}});return false;});$("video[data-event]").each(function(){var _this=$(this);var params=_this.attr("data-event").split(",");if(!(params&&params.length===2)){console.error("Invalid 'data-event' tag.",this);return false;}
var eventCategory=params[0];var eventLabel=params[1];_this.parent().find(".vjs-big-play-button").click(function(){gtag("event","video-play",{event_category:eventCategory,event_label:eventLabel});});});var scrolledTo={};function handlePageScroll(){$("#index section").each(function(){if(scrolledTo[this.id]){return;}
var rect=this.getBoundingClientRect();if(rect.y>-100&&rect.y<rect.height/2){scrolledTo[this.id]=true;gtag("event","impression",{event_category:"index-"+this.id});}});}
$(document).scroll(debounce(handlePageScroll,300));handlePageScroll();}
function initYouTubeVideo(){var vidDefer=document.getElementsByTagName("iframe");for(var i=0;i<vidDefer.length;i++){if(vidDefer[i].getAttribute("data-src")){vidDefer[i].setAttribute("src",vidDefer[i].getAttribute("data-src"));}}}
$(document).ready(function(){initYouTubeVideo();initNavbarPageScroll();initNavbarPageResize();initNavbarDropdownHover();initGATriggers();$('[data-toggle="tooltip"]').tooltip();});