function debounce(t,s,n){var e;return function(){var o=this,i=arguments,a=function(){e=null,n||t.apply(o,i)},r=n&&!e;clearTimeout(e),e=setTimeout(a,s),r&&t.apply(o,i)}}"use strict";window.config=window.config||{},window.config.useLocalApp=!1,summaryInclude=60;var fuseOptions={shouldSort:!0,includeMatches:!0,threshold:0,tokenize:!0,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"title",weight:.8},{name:"contents",weight:.5},{name:"tags",weight:.3},{name:"categories",weight:.3}]};$(document).ready(function(){var s=$("#freeTrialButton"),t,d,r,c,l,a,j,e=$("#signupSubmit"),n=$("#emailSub"),v=$("#legalinfoch"),y=s.hasClass("appDisabled");e.attr("disabled","disabled"),t=$("#confirm-language"),d=$("#legalModal"),r=$(".btn-free-trial-home"),c=$(".btn-search"),l=$("#search-modal-id"),a=$(".btn-search-popup-cls"),j="";function i(e){var t=/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;return!!e.match(t)}function m(s){var o=s.target.value,a;i(o)?(n.css("border","1px solid green"),e.removeAttr("disabled"),$(".tooltip-outer").attr("data-original-title","Enabled: Valid Email Address").tooltip("fixTitle")):(n.css("border","1px solid red"),e.attr("disabled","disabled"),$(".tooltip-outer").attr("data-original-title","Disabled: Invalid Email Address").tooltip("fixTitle")),a=t.find("#legalinfoch"),a[0].checked||e.attr("disabled","disabled")}n.bind("change keyup",m);function f(s){s.preventDefault();function n(){e.removeAttr("disabled"),t.modal("show")}window.gtag?window.gtag("event","button",{event_category:"free-trial",event_label:"hero-next",event_callback:n}):n()}s.click(f);function p(){t.modal("show")}function g(){l.modal("show")}r.click(p),c.click(g),a.click(handleBtnSearchPopup);function o(){var n=t.find("input[type=checkbox]:checked"),e=[];return n.each(function(){if(this.name==="legalinfo")return;if(this.value==="English")return;e.push(this.value)}),e}function u(){var e=o();e.length>=3?t.find("input[type=checkbox]").each(function(){if(this.value==="English"||this.name=="legalinfo")return;this.checked||$(this).attr("disabled","disabled")}):t.find("input[type=checkbox]").each(function(){if(this.value==="English")return;this.checked||$(this).removeAttr("disabled")})}t.find("input").change(u);function h(){i(n[0].value)?this.checked?e.removeAttr("disabled"):e.attr("disabled","disabled"):e.attr("disabled","disabled")}v.change(h);function b(){d.modal("hide");var n="English",s=o(),e={primaryLanguage:n,secondaryLanguages:s.join(","),emailAddress:$("#emailSub").val()};function t(){var s=window.config.useLocalApp?"http://localhost:3000/enrollAccount":"https://app.videotranslator.ai/enrollAccount",n,t=new URL(s);for(n in e)t.searchParams.set(n,e[n]);window.location=t.toString()}window.gtag?window.gtag("event","conversion",{event_callback:t}):t()}e.click(b)}),$("#search-query").keypress(function(e){var t=e.keyCode?e.keyCode:e.which;t=="13"&&handleBtnSearchPopup()});function handleBtnSearchPopup(){$("#search-results").empty(),searchQuery=$("#search-query").val(),searchQuery?(gtag("event","search event",{event_category:"search category",event_label:"search "+searchQuery}),$("#search-query").val(searchQuery),executeSearch(searchQuery)):$("#search-results").append("<p>Please enter a word or phrase above !</p>")}function executeSearch(e){$.getJSON("../../index.json",function(n){var s=n,o=new Fuse(s,fuseOptions),t=o.search(e);t.length>0?populateResults(t):$("#search-results").append("<p>No matches found !</p>")})}function populateResults(e){$.each(e,function(o,e){var t=e.item.contents,i,a,n="",s=[],r=[];fuseOptions.tokenize?s.push(searchQuery):$.each(e.matches,function(o,e){e.key=="tags"||e.key=="categories"?s.push(e.value):e.key=="contents"&&(start=e.indices[0][0]-summaryInclude>0?e.indices[0][0]-summaryInclude:0,end=e.indices[0][1]+summaryInclude<t.length?e.indices[0][1]+summaryInclude:t.length,n+=t.substring(start,end),s.push(e.value.substring(e.indices[0][0],e.indices[0][1]-e.indices[0][0]+1)))}),n.length<1&&(n+=t.substring(0,summaryInclude*2)),i=$("#search-result-template").html(),a=render(i,{key:o,title:e.item.title,link:e.item.permalink,tags:e.item.tags,categories:e.item.categories,snippet:n}),$("#search-results").append(a),$.each(s,function(t,e){$("#summary-"+o).mark(e)})})}function param(e){return decodeURIComponent((location.search.split(e+"=")[1]||"").split("&")[0]).replace(/\+/g," ")}function render(e,s){i=/\$\{\s*isset ([a-zA-Z]*) \s*\}(.*)\$\{\s*end\s*}/g,t=e;for(var n,i,t,o,a,r;(n=i.exec(e))!==null;)s[n[1]]?t=t.replace(n[0],n[2]):t=t.replace(n[0],"");e=t;for(o in s)a="\\$\\{\\s*"+o+"\\s*\\}",r=new RegExp(a,"g"),e=e.replace(r,s[o]);return e}"use strict";window.config=window.config||{},window.config.useGtagStub=!1;function initNavbarPageScroll(){var e=$("nav.navbar"),t="navbar-stuck";function n(){$(this).scrollTop()>=40?e.addClass(t):e.removeClass(t)}$(document).scroll(n),n.apply(document)}function initNavbarPageResize(){var e=!1,t=e;function n(){$(this).width()<768?e=!0:e=!1,e!==t&&(t=e,e?$("a.dropdown-toggle").attr("data-toggle","dropdown"):$("a.dropdown-toggle").attr("data-toggle","none"))}$(window).resize(n),n.apply(window)}function initNavbarDropdownHover(){function e(){var e=$(this).addClass("open")}function t(){$(this).removeClass("open")}function n(){$(this).parent(".dropdown").removeClass("open")}$(".dropdown").on("mouseenter",e),$(".dropdown").on("mouseleave",t),$(".dropdown-menu,.dropdown-menu a").click(n)}function initGATriggers(){var e=window.gtag,t;if(!e)if(window.config.useGtagStub)e=function(n,t,e){console.log("gtag",t,e.event_category,e.event_label)};else return;$("a[data-event]").click(function(){var n=$(this),s,o,t=n.attr("data-event").split(",");return t&&t.length===2?(s=t[0],o=t[1],e("event","link",{event_category:s,event_label:o,event_callback:function(){window.location=n.attr("href")}}),!1):(console.error("Invalid 'data-event' tag.",this),!1)}),$("video[data-event]").each(function(){var n=$(this),s,o,t=n.attr("data-event").split(",");if(!(t&&t.length===2))return console.error("Invalid 'data-event' tag.",this),!1;s=t[0],o=t[1],n.parent().find(".vjs-big-play-button").click(function(){e("event","video-play",{event_category:s,event_label:o})})}),t={};function n(){$("#index section").each(function(){if(t[this.id])return;var n=this.getBoundingClientRect();n.y>-100&&n.y<n.height/2&&(t[this.id]=!0,e("event","impression",{event_category:"index-"+this.id}))})}$(document).scroll(debounce(n,300)),n()}function initYouTubeVideo(){for(var t=document.getElementsByTagName("iframe"),e=0;e<t.length;e++)t[e].getAttribute("data-src")&&t[e].setAttribute("src",t[e].getAttribute("data-src"))}$(document).ready(function(){initYouTubeVideo(),initNavbarPageScroll(),initNavbarPageResize(),initNavbarDropdownHover(),initGATriggers(),$('[data-toggle="tooltip"]').tooltip()})